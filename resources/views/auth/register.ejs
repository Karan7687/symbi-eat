<!-- design -->
<section class="register-section py-12 bg-[#F8F9FA]">
  <div class="container mx-auto px-4">
    <!-- Success Message Overlay (Hidden by default) -->
    <div
      id="successMessage"
      class="fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-70 transform scale-0 opacity-0 transition-all duration-500"
      style="display: none"
    >
      <div
        class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 relative overflow-hidden"
      >
        <!-- Confetti animation container -->
        <div id="confettiCanvas" class="absolute inset-0"></div>

        <!-- Success content -->
        <div class="relative z-10 text-center">
          <div
            class="w-24 h-24 bg-green-100 rounded-full mx-auto flex items-center justify-center mb-6 animate-bounce"
          >
            <svg
              class="w-12 h-12 text-green-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 13l4 4L19 7"
              ></path>
            </svg>
          </div>

          <h2 class="text-3xl font-bold text-[#1D3557] mb-4">
            Woohoo! You're In!
          </h2>

          <p class="text-gray-600 mb-6">
            Your account has been created successfully. Get ready for a
            delicious journey!
          </p>

          <div class="bg-[#1D3557] bg-opacity-10 rounded-xl p-4 mb-6">
            <p class="text-[#1D3557] font-medium">🎁 Welcome Gift</p>
            <p class="text-[#1D3557] font-bold text-xl">
              20% OFF your first order
            </p>
            <p class="text-sm text-gray-600">
              Use code:
              <span
                class="font-mono bg-[#E8C547] bg-opacity-30 px-2 py-1 rounded"
                >NEWFOODIE</span
              >
            </p>
          </div>

          <button
            id="continueButton"
            class="w-full bg-[#112240] hover:bg-[#1a2e50] text-white font-bold py-3 rounded-lg transition-colors duration-300 relative overflow-hidden group"
          >
            <span class="relative z-10 flex items-center justify-center">
              <span class="mr-2">🍽️</span>
              Start Exploring
            </span>
            <span
              class="absolute inset-0 bg-[#E8C547] transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"
            ></span>
          </button>

          <!-- Social share -->
          <div class="mt-6">
            <p class="text-sm text-gray-500 mb-2">Share your excitement:</p>
            <div class="flex justify-center space-x-4">
              <a
                href="#"
                class="text-2xl hover:scale-125 transition-transform duration-300"
                >📱</a
              >
              <a
                href="#"
                class="text-2xl hover:scale-125 transition-transform duration-300"
                >📘</a
              >
              <a
                href="#"
                class="text-2xl hover:scale-125 transition-transform duration-300"
                >📸</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="form-container bg-white rounded-xl shadow-lg overflow-hidden max-w-5xl mx-auto"
    >
      <div class="grid grid-cols-1 md:grid-cols-2">
        <!-- Left side - Image and humor -->
        <div
          class="bg-[#1D3557] p-8 md:p-12 flex flex-col justify-center relative overflow-hidden"
        >
          <div class="relative z-10">
            <h2 class="text-white text-2xl md:text-3xl font-bold">
              Create Account! Join the Food Revolution
            </h2>

            <div class="bg-white bg-opacity-10 rounded-xl p-6 mb-6">
              <h3 class="text-[#E8C547] text-xl font-semibold mb-3">
                "What we offer:"
              </h3>
              <ul class="text-white space-y-2 pl-5 list-disc">
                <li>Preordering</li>
                <li>Real-Time Updates</li>
                <li>Seamless Payment Options</li>
                <li>No Long Queues</li>
                <li>No Late for Class</li>
                <li>Track orders with preparation timer</li>
              </ul>
            </div>

            <div class="bg-white bg-opacity-10 rounded-xl p-6">
              <h3 class="text-[#E8C547] text-xl font-semibold mb-3">
                Student Testimonial:
              </h3>
              <p class="text-white italic">
                "When your crush is in the canteen line but you already got your
                food – thanks to this app."
              </p>
            </div>
          </div>

          <!-- Floating emojis -->
          <div
            class="absolute top-[10%] left-[10%] text-4xl opacity-20 animate-float"
          >
            🍕
          </div>
          <div
            class="absolute top-[30%] right-[20%] text-4xl opacity-20 animate-float delay-2s"
          >
            ☕
          </div>
          <div
            class="absolute bottom-[20%] left-[30%] text-4xl opacity-20 animate-float delay-4s"
          >
            🍔
          </div>
          <div
            class="absolute bottom-[40%] right-[10%] text-4xl opacity-20 animate-float delay-6s"
          >
            🍟
          </div>
        </div>

        <!-- Right side - Form -->
        <div class="p-8 md:p-12">
          <form id="registrationForm" action="/register" method="POST">
            <div class="mb-6">
              <label class="block text-[#1D3557] font-semibold mb-2" for="name"
                >Full Name</label
              >
              <input
                type="text"
                id="name"
                name="name"
                class="w-full px-4 py-3 border-2 border-[#E5E7EB] rounded-lg focus:outline-none focus:border-[#E8C547] focus:ring-2 focus:ring-[#E8C547] focus:ring-opacity-20"
                placeholder="As on student ID (or fake ID, we don't judge)"
                required
              />
            </div>

            <div class="mb-6">
              <label class="block text-[#1D3557] font-semibold mb-2" for="email"
                >Email Address</label
              >
              <input
                type="email"
                id="email"
                name="email"
                class="w-full px-4 py-3 border-2 border-[#E5E7EB] rounded-lg focus:outline-none focus:border-[#E8C547] focus:ring-2 focus:ring-[#E8C547] focus:ring-opacity-20"
                placeholder="Your college email (yes, we send food coupons)"
                required
              />
            </div>

            <div class="mb-6">
              <label
                class="block text-[#1D3557] font-semibold mb-2"
                for="password"
                >Password</label
              >
              <div class="relative">
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="w-full px-4 py-3 border-2 border-[#E5E7EB] rounded-lg focus:outline-none focus:border-[#E8C547] focus:ring-2 focus:ring-[#E8C547] focus:ring-opacity-20"
                  placeholder="Stronger than your coffee preference"
                  required
                />
                <button
                  type="button"
                  class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"
                  onclick="togglePassword()"
                >
                  👁️
                </button>
              </div>

              <!-- Password strength bars -->
              <div class="flex space-x-1 mt-2">
                <div
                  class="h-1 flex-1 rounded-full bg-[#E5E7EB] password-strength-bar"
                ></div>
                <div
                  class="h-1 flex-1 rounded-full bg-[#E5E7EB] password-strength-bar"
                ></div>
                <div
                  class="h-1 flex-1 rounded-full bg-[#E5E7EB] password-strength-bar"
                ></div>
                <div
                  class="h-1 flex-1 rounded-full bg-[#E5E7EB] password-strength-bar"
                ></div>
              </div>
            </div>

            <div class="mb-6">
              <label class="flex items-center">
                <input type="checkbox" class="w-4 h-4 mr-2" required />
                <span class="text-sm">
                  I agree to the
                  <a href="#" class="text-[#1D3557] font-semibold"
                    >Terms of Service</a
                  >
                  and
                  <a href="#" class="text-[#1D3557] font-semibold"
                    >Privacy Policy</a
                  >
                </span>
              </label>
            </div>

            <button
              type="submit"
              class="w-full bg-[#112240] hover:bg-[#1a2e50] text-white font-bold py-3 rounded-lg transition-colors duration-300 relative overflow-hidden group"
            >
              <span class="relative z-10 flex items-center justify-center">
                <span class="mr-2">🚀</span>
                Start Ordering
              </span>
              <span
                class="absolute inset-0 bg-[#E8C547] transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"
              ></span>
              <span
                class="absolute inset-0 bg-[#E8C547] opacity-20 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-700 origin-left"
              ></span>
            </button>

            <p class="text-center text-sm text-gray-500 mt-6">
              By signing up, you acknowledge that food is better than sleep
              during exam week.
            </p>

            <div class="text-center mt-6">
              <p class="text-gray-600">
                Already have an account?
                <a
                  href="/login"
                  class="text-[#1D3557] font-semibold hover:underline"
                  >Log in</a
                >
                and continue your food journey
              </p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Script for password toggle and strength -->
  <script>
    function togglePassword() {
      const passwordField = document.getElementById("password");
      passwordField.type =
        passwordField.type === "password" ? "text" : "password";
    }

    document.getElementById("password").addEventListener("input", function (e) {
      const password = e.target.value;
      const strengthBars = document.querySelectorAll(".password-strength-bar");

      strengthBars.forEach((bar) => bar.classList.remove("bg-[#E8C547]"));

      if (password.length > 0) strengthBars[0].classList.add("bg-[#E8C547]");
      if (password.length > 5) strengthBars[1].classList.add("bg-[#E8C547]");
      if (password.length > 8) strengthBars[2].classList.add("bg-[#E8C547]");
      if (
        password.length > 12 &&
        /[A-Z]/.test(password) &&
        /[0-9]/.test(password)
      )
        strengthBars[3].classList.add("bg-[#E8C547]");
    });

    // Confetti animation function
    function startConfetti() {
      const canvas = document.createElement("canvas");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      canvas.style.position = "fixed";
      canvas.style.top = "0";
      canvas.style.left = "0";
      canvas.style.pointerEvents = "none";
      canvas.style.zIndex = "100";
      document.getElementById("confettiCanvas").appendChild(canvas);

      const ctx = canvas.getContext("2d");
      const confettiCount = 200;
      const confetti = [];

      const colors = ["#E8C547", "#1D3557", "#FF6B6B", "#4ECDC4", "#F7FFF7"];

      for (let i = 0; i < confettiCount; i++) {
        confetti.push({
          x: Math.random() * canvas.width,
          y: -Math.random() * canvas.height,
          size: Math.random() * 10 + 5,
          color: colors[Math.floor(Math.random() * colors.length)],
          speed: Math.random() * 3 + 2,
          angle: Math.random() * 6.28,
          rotation: Math.random() * 0.2 - 0.1,
          rotationSpeed: Math.random() * 0.01,
        });
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        let stillFalling = false;

        for (let i = 0; i < confetti.length; i++) {
          const c = confetti[i];

          ctx.save();
          ctx.translate(c.x, c.y);
          ctx.rotate(c.angle);

          ctx.fillStyle = c.color;
          ctx.fillRect(-c.size / 2, -c.size / 2, c.size, c.size);

          ctx.restore();

          c.y += c.speed;
          c.angle += c.rotationSpeed;

          if (c.y < canvas.height) {
            stillFalling = true;
          }
        }

        if (stillFalling) {
          requestAnimationFrame(animate);
        } else {
          canvas.remove();
        }
      }

      animate();
    }

    // Success message display
    document
      .getElementById("registrationForm")
      .addEventListener("submit", function (e) {
        // This prevents the default form submission
        e.preventDefault();

        // Here we would normally submit the form data via AJAX
        // Since we're not touching backend logic, we'll simulate a successful response

        // Simulate form submission (in a real app, this would be an AJAX call)
        setTimeout(function () {
          // Show success message
          const successMessage = document.getElementById("successMessage");
          successMessage.style.display = "flex";

          // Trigger animation after a small delay
          setTimeout(function () {
            successMessage.classList.add("scale-100", "opacity-100");
            successMessage.classList.remove("scale-0", "opacity-0");
            startConfetti();
          }, 100);

          // In a real implementation, you would submit the form here
          // For example: document.getElementById('registrationForm').submit();
        }, 1000); // Simulate network delay
      });

    // Continue button functionality
    document
      .getElementById("continueButton")
      .addEventListener("click", function () {
        // Hide success message
        const successMessage = document.getElementById("successMessage");
        successMessage.classList.remove("scale-100", "opacity-100");
        successMessage.classList.add("scale-0", "opacity-0");

        // Redirect to dashboard or homepage
        setTimeout(function () {
          successMessage.style.display = "none";
          window.location.href = "/dashboard"; // Change this to your desired redirect URL
        }, 500);

        // In a real implementation, you would submit the form here if not already done
        // document.getElementById('registrationForm').submit();
      });
  </script>

  <style>
    /* Animation for floating emojis */
    @keyframes float {
      0% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-20px);
      }
      100% {
        transform: translateY(0px);
      }
    }

    .animate-float {
      animation: float 6s ease-in-out infinite;
    }

    .delay-2s {
      animation-delay: 2s;
    }

    .delay-4s {
      animation-delay: 4s;
    }

    .delay-6s {
      animation-delay: 6s;
    }

    /* Animation for success message */
    .scale-0 {
      transform: scale(0);
    }

    .scale-100 {
      transform: scale(1);
    }
  </style>
</section>
